{"version":3,"sources":["gameSettings.js","index.js"],"names":["GenerationBoxes","props","useState","genOpen","setGenOpen","genList","Array","keys","supported","elements","map","gen","ListItem","dense","button","disabled","onClick","toggleGen","ListItemIcon","Checkbox","edge","checked","includeGens","name","disableRipple","ListItemText","primary","Fragment","Collapse","in","timeout","unmountOnExit","List","SideBar","classes","makeStyles","theme","root","width","maxWidth","subheader","textAlign","fontSize","useStyles","ListSubheader","includedGens","Divider","variant","TextField","label","size","defaultValue","pkmOrder","id","Button","color","importPkmOrder","exportPkmOrder","resetGame","href","Link","component","CssTextField","withStyles","borderColor","ControlCenter","anchorState","setAnchorState","toggleDrawer","open","event","type","key","offset","mixins","toolbar","AppBar","position","Toolbar","IconButton","aria-label","Typography","className","onChange","findPkmByName","target","value","SwipeableDrawer","anchor","onClose","onOpen","Square","lookup","imageStyle","highlight","style","0","1","2","status","onContextMenu","Board","board","i","push","boardState","highlightMatches","includes","boardNum","length","boardStyle","rowLen","Game","setRowLen","maxRows","setMaxRows","setIncludedGens","genTable","val","shuffleBoard","setPkmOrder","fill","setBoardState","setHighlightMatches","tmpPkmOrder","concat","shuffledOrder","sort","Math","random","slice","handleClick","newBoardState","curVal","handleContextMenu","preventDefault","React","useEffect","Number","localStorage","getItem","savedPkmOrder","JSON","parse","savedBoardState","savedIncludedGens","setItem","stringify","document","getElementById","select","execCommand","newPkmOrder","newIncludedGens","inputString","pkmMatchList","cappedSting","charAt","toUpperCase","nameList","filter","element","startsWith","indexOf","ReactDOM","render"],"mappings":"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","file":"static/js/main.8d8b5e64.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Link from '@material-ui/core/Link';\nimport Divider from '@material-ui/core/Divider';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Collapse from '@material-ui/core/Collapse';\n\nimport Checkbox from '@material-ui/core/Checkbox';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport { ListItemIcon } from '@material-ui/core';\n\n\nfunction GenerationBoxes(props) {\n    const [genOpen, setGenOpen] = useState(false);\n\n    const genList = [...Array(8).keys()];\n    const supported = [true,true,true,false,false,false,false,false];    \n    \n    const elements = genList.map((gen) => {\n        return (\n            <ListItem\n                key={gen}\n                dense\n                button\n                disabled={!supported[gen]}\n                onClick={() => props.toggleGen(gen)}\n            >\n                <ListItemIcon>\n                    <Checkbox\n                        edge=\"start\"\n                        checked={props.includeGens[gen]}\n                        name={\"gen\"+(gen+1)}\n                        disableRipple\n                    />\n                </ListItemIcon>\n                <ListItemText primary={`Generation ${gen+1}`} />\n            </ListItem>\n        )\n    });\n\n\n    return (\n        <React.Fragment>\n            <ListItem button onClick={() => setGenOpen(!genOpen)}>\n                <ListItemText primary={\"Generations\"} />\n                {genOpen ? <ExpandLess /> : <ExpandMore />}\n            </ListItem>\n            <Collapse in={genOpen} timeout=\"auto\" unmountOnExit>\n                <List>\n                    {elements}\n                </List>\n            </Collapse>\n        </React.Fragment>\n    )\n}\n\n\nfunction SideBar(props) {\n    const useStyles = makeStyles((theme) => ({\n        root: {\n            width: '100%',\n            maxWidth: 360,\n        },\n        subheader: {\n            textAlign: 'left',\n            fontSize: \"20px\",\n        }\n    }));\n    const classes = useStyles();\n\n    return (\n        <List\n            subheader={<ListSubheader classes={{root: classes.subheader}}>Options</ListSubheader>}\n            classes={{root: classes.root}}\n        >            \n            <GenerationBoxes \n                includeGens={props.includedGens}\n                toggleGen={props.toggleGen}\n            />\n            <Divider variant=\"middle\" />\n            <ListItem>\n                <TextField\n                    variant=\"outlined\"\n                    label=\"Pokemon Sequence String\"\n                    size=\"small\"\n                    defaultValue={props.pkmOrder}\n                    classes={{root: classes.root}}\n                    id=\"sequence-string\"\n                />\n            </ListItem>\n            <ListItem>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"large\"\n                    onClick={props.importPkmOrder}\n                    classes={{root: classes.root}}\n                >Import Pokemon Sequence</Button>\n            </ListItem>\n            <ListItem>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"large\"\n                    onClick={props.exportPkmOrder}\n                    classes={{root: classes.root}}\n                >Export Pokemon Sequence</Button>\n            </ListItem>\n            <ListItem>\n                <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    size=\"large\"\n                    onClick={props.resetGame}\n                    classes={{root: classes.root}}\n                >New Game</Button>\n            </ListItem>\n            <Divider variant=\"middle\" />\n            <ListItem>\n                <a href=\"https://github.com/matthewkirby/pkm-battleship\"><Link\n                    component=\"button\"\n                    variant=\"h6\"\n                >GitHub</Link></a>\n            </ListItem>\n\n        </List>\n    )\n}\n\n\nconst CssTextField = withStyles({\n    root: {\n        '& .MuiInputBase-root': {\n            color: 'white',\n        },\n        '& label.Mui-focused': {\n            color: 'white',\n        },\n        '& .MuiOutlinedInput-root': {\n            '& fieldset': {\n                borderColor: 'white',\n            },\n            '&:hover fieldset': {\n                borderColor: 'white',\n            },\n            '&.Mui-focused fieldset': {\n                borderColor: 'white',\n            },\n        }\n    },\n})(TextField);\n\n\nfunction ControlCenter(props) {\n    const [anchorState, setAnchorState] = useState(false);\n\n    const toggleDrawer = (open) => (event) => {\n        if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n            return;\n        }\n        setAnchorState(open);\n    };\n\n    // Fix for fixed position toolbar and overlapping elements\n    const classes = makeStyles(theme => ({\n        offset: theme.mixins.toolbar\n    }))\n\n    return (\n        <React.Fragment>\n            <AppBar position=\"fixed\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        aria-label=\"menu\"\n                        onClick={toggleDrawer(true)}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className=\"flex-grow\">\n                        Pokemon Battleship\n                    </Typography>\n                    <CssTextField\n                        label=\"Search Pokemon\"\n                        size=\"small\"\n                        variant=\"outlined\"\n                        onChange={(event) => props.findPkmByName(event.target.value)}\n                    />\n                    <SwipeableDrawer\n                        anchor=\"left\"\n                        open={anchorState}\n                        onClose={toggleDrawer(false)}\n                        onOpen={toggleDrawer(true)}\n                    >\n                        <SideBar\n                            pkmOrder={props.pkmOrder}\n                            exportPkmOrder={props.exportPkmOrder}\n                            importPkmOrder={props.importPkmOrder}\n                            resetGame={props.resetGame}\n                            includedGens={props.includedGens}\n                            toggleGen={props.toggleGen}\n                        />\n                    </SwipeableDrawer>\n                </Toolbar>\n            </AppBar>\n            <div className={classes().offset} />\n        </React.Fragment>\n    );\n}\n\nexport default ControlCenter","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport lookup from './data/sprite_lookup.json'\nimport nameList from './data/names_en.json'\nimport ControlCenter from './gameSettings.js'\n\n\nfunction Square(props) {\n    const position = lookup[props.id];\n    const xpos = -position['x'] * 50 / 64;\n    const ypos = -position['y'] * 50 / 64;\n    const imageStyle = { \"backgroundPosition\": xpos + 'px ' + ypos + 'px' };\n    \n    const bgColors = {\"-1\": \"red\", 0: \"white\", 1: \"darkgrey\", 2: \"blue\"};\n    const highlight = props.highlight ? \"selection\" : \"\";\n    return (\n        <button\n            style={imageStyle}\n            className={`square ${bgColors[props.status]} ${highlight}`} \n            onClick={props.onClick}\n            onContextMenu={props.onContextMenu}\n        />\n    );\n}\n\n\nfunction Board(props) {\n    const board = []\n    for(let i=0; i<props.pkmOrder.length; i++) {\n        const key = props.pkmOrder[i] + 1;\n        board.push(\n            <Square\n                id={key}\n                status={props.boardState[i]}\n                highlight={props.highlightMatches.includes(key)}\n                onClick={() => props.onClick(props.boardNum, i)}\n                onContextMenu={event => props.onContextMenu(event, props.boardNum, i)}\n                key={key} \n            />\n        )\n    }\n\n    const boardStyle = { \"gridTemplateColumns\": 'repeat(' + props.rowLen + ', 49px)' };\n    return (\n        <div className=\"game-board\" style={boardStyle}>\n            {board}\n        </div>\n    );\n}\n\n\nfunction Game(props) {\n    const [rowLen, setRowLen] = useState(14);\n    const [maxRows, setMaxRows] = useState(11);\n    const [includedGens, setIncludedGens] = useState([true, false, false, false, false, false, false, false])\n    const genTable = {\n        0: [...Array(151).keys()],\n        1: [...Array(100).keys()].map((val) => { return val+151; }),\n        2: [...Array(135).keys()].map((val) => { return val+251; })\n    }\n\n    const [pkmOrder, setPkmOrder] = useState(shuffleBoard());\n    const [boardState, setBoardState] = useState([Array(maxRows*rowLen).fill(0), Array(maxRows*rowLen).fill(0)]);\n    const [highlightMatches, setHighlightMatches] = useState([]);\n\n    function shuffleBoard() {\n        let tmpPkmOrder = [];\n        for(let i=0; i<8; i++) {\n            if(includedGens[i]) {\n                tmpPkmOrder = tmpPkmOrder.concat(genTable[i])\n            }\n        }\n\n        let shuffledOrder = tmpPkmOrder.sort(() => Math.random() - 0.5);\n        if(shuffledOrder.length > rowLen*maxRows) {\n            shuffledOrder = shuffledOrder.slice(0, rowLen*maxRows);\n        }\n        return shuffledOrder\n    }\n\n    // Grab the locally stored values\n    React.useEffect(() => {\n        setRowLen(Number(localStorage.getItem(\"rowLen\") || 14));\n        setMaxRows(Number(localStorage.getItem(\"maxRows\") || 11));\n        const savedPkmOrder = JSON.parse(localStorage.getItem(\"pkmOrder\"));\n        if(savedPkmOrder !== null) { setPkmOrder(savedPkmOrder); }\n        const savedBoardState = JSON.parse(localStorage.getItem(\"boardState\"));\n        if(savedBoardState !== null) { setBoardState(savedBoardState); }\n        const savedIncludedGens = JSON.parse(localStorage.getItem(\"includedGens\"));\n        if(savedIncludedGens !== null) { setIncludedGens(savedIncludedGens); }\n    }, []);\n\n    // Save state to localstorage\n    React.useEffect(() => {\n        localStorage.setItem(\"rowLen\", rowLen);\n        localStorage.setItem(\"maxRows\", maxRows);\n        localStorage.setItem(\"pkmOrder\", JSON.stringify(pkmOrder));\n        localStorage.setItem(\"boardState\", JSON.stringify(boardState));\n        localStorage.setItem(\"includedGens\", JSON.stringify(includedGens));\n    }, [rowLen, maxRows, pkmOrder, boardState, includedGens]);\n\n    function handleClick(boardNum, i) {\n        const newBoardState = boardState.slice();\n        const curVal = newBoardState[boardNum][i];\n        newBoardState[boardNum][i] = curVal === 2 ? curVal : curVal+1;\n        setBoardState(newBoardState);\n    }\n\n    function handleContextMenu(event, boardNum, i) {\n        event.preventDefault();\n        const newBoardState = boardState.slice();\n        const curVal = newBoardState[boardNum][i];\n        newBoardState[boardNum][i] = curVal === -1 ? curVal : curVal-1;\n        setBoardState(newBoardState);\n    }\n\n    function resetGame() {\n        setPkmOrder(shuffleBoard());\n        setBoardState([Array(maxRows*rowLen).fill(0), Array(maxRows*rowLen).fill(0)]);\n    }\n\n    function exportPkmOrder() {\n        const textbox = document.getElementById(\"sequence-string\");\n        textbox.select();\n        document.execCommand(\"copy\");\n    }\n\n    function importPkmOrder() {\n        const newPkmOrder = document.getElementById(\"sequence-string\").value;\n        setPkmOrder(JSON.parse(newPkmOrder));\n    }\n\n    function toggleGen(gen) {\n        let newIncludedGens = includedGens.slice()\n        newIncludedGens[gen] = !newIncludedGens[gen];\n        setIncludedGens(newIncludedGens);\n    }\n\n    function findPkmByName(inputString) {\n        let pkmMatchList = [];\n        if(inputString !== \"\") {\n            const cappedSting = inputString.charAt(0).toUpperCase() + inputString.slice(1);\n            const matchList = nameList.filter(element => element.startsWith(cappedSting));\n            pkmMatchList = matchList.map(name => nameList.indexOf(name)+1);\n        }\n        setHighlightMatches(pkmMatchList);\n    }\n\n    return (\n        <React.Fragment>\n            <ControlCenter\n                pkmOrder={JSON.stringify(pkmOrder)}\n                resetGame={resetGame}\n                exportPkmOrder={exportPkmOrder}\n                importPkmOrder={importPkmOrder}\n                includedGens={includedGens}\n                toggleGen={toggleGen}\n                findPkmByName={findPkmByName}\n            />\n            <div className=\"game\">\n                <Board\n                    boardNum={0}\n                    rowLen={rowLen}\n                    pkmOrder={pkmOrder}\n                    boardState={boardState[0]}\n                    highlightMatches={highlightMatches}\n                    onClick={handleClick}\n                    onContextMenu={handleContextMenu}\n                />\n                <span className=\"board-gap\" />\n                <Board\n                    boardNum={1}\n                    rowLen={rowLen}\n                    pkmOrder={pkmOrder}\n                    boardState={boardState[1]}\n                    highlightMatches={highlightMatches}\n                    onClick={handleClick}\n                    onContextMenu={handleContextMenu}\n                />\n            </div>\n        </React.Fragment>\n    );\n}\n\n\n// ========================================\n  \nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n);"],"sourceRoot":""}